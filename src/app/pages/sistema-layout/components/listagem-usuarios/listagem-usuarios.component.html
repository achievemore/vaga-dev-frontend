<div class="card listagem-usuarios flex justify-content-center flex-column">
    <p-card header="Listagem de usuários">
        <p class="m-0" id="descricao-card">
            Visualização dos usuários cadastrados.
        </p>
        <p-divider />
        <div class="d-flex justify-content-between px-3">
            <div>
                <p-dropdown [options]="qtdPorPaginaLista" placeholder="Select a City" [(ngModel)]="porPagina"
                    (onChange)="alterarPorPagina($event.value)" />
                <span id="descricao-por-pagina">entradas por página</span>
            </div>
            <input type="text" pInputText [(ngModel)]="filtro" placeholder="Pesquise aqui..." />
        </div>
        <p-divider class="divider-mb-0" />
        <p-table [value]="listaFiltrada()" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width: 35%;" [(app-sort)]="nomeSort">Nome</th>
                    <th>Cargo</th>
                    <th>Escritório</th>
                    <th [(app-sort)]="idadeSort">Idade</th>
                    <th>Data de início</th>
                    <th [(app-sort)]="salarioSort">Salário</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-u>
                @if (loading()) {
                <tr>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                </tr>
                } @else {
                <tr style="height: 70px;">
                    <td>{{ u.nome }}</td>
                    <td>{{ u.cargo }}</td>
                    <td>{{ u.escritorio }}</td>
                    <td>{{ u.idade }}</td>
                    <td>{{ u.dataInicio | date: 'dd/MM/yyyy' }}</td>
                    <td>{{ u.salario | currency }}</td>
                </tr>
                }
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                    <td><p-skeleton /></td>
                </tr>
            </ng-template>
        </p-table>
        <div class="rodape-table">
            <div id="quantidade">{{qtdRodapeTable}}</div>

            <app-pagination [paginaAtual]="request.value.page" [totalItems]="totalUsuarios()"
                [itemsPorPagina]="request.value.per_page" (emitPagina)="alterarPagina($event)" />
        </div>
    </p-card>


</div>