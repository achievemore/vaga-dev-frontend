<div class="row table-configs">
  
  <div class="col-2">
    <div class="d-flex align-items-center">
      <select
        class="form-select text-sm text-gray pointer"
        [(ngModel)]="pageSize"
        (change)="onPageSizeChange()"
      >
        <option *ngFor="let item of pageSizeOptions" [value]="item">{{item}}</option>
      </select>
      <span class="text-xs text-gray">Entradas por p√°gina</span>
    </div>
  </div>

  <div class="col">
    <app-filter
      [filters]="filters"
      (filtersChange)="onFiltersChange($event)"
    ></app-filter>
  </div>
</div>


<table class="table">
  <thead>
    <tr>
      <th 
      *ngFor="let col of columns"
      (click)="sortBy(col)" 
      >
        {{ col.display }}
        <ng-container *ngIf="sortColumn === col.name">
          <span *ngIf="sortDirection === 'asc'">&#9650;</span>
          <span *ngIf="sortDirection === 'desc'">&#9660;</span>
        </ng-container>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of displayedData">
      <td class="text-sm text-gray" *ngFor="let col of columns">{{ item[col.name] }}</td>
    </tr>
  </tbody>
</table>

<div class="d-flex justify-content-between align-items-center">
  <div>
    <span class="text-sm text-gray">
      Mostrando
      {{ startItemIndex + 1 }}
      a
      {{ endItemIndex }}
      de
      {{ totalItems }}
    </span>
  </div>


  <nav aria-label="Table pagination">
    <ul class="pagination mb-0">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link text-sm text-gray" href="#" (click)="prevPage($event)"><img src="../../../../assets/icons/arrow-left.png" alt="arrow-left" class="pagination-icon" /></a>
      </li>

      <li
        class="page-item"
        *ngFor="let page of pagesArray"
        [class.active]="page === currentPage"
      >
        <a class="page-link text-sm text-gray" href="#" (click)="goToPage($event, page)">
          {{ page }}
        </a>
      </li>

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link text-sm text-gray" href="#" (click)="nextPage($event)"><img src="../../../../assets/icons/arrow-right.png" alt="arrow-right" class="pagination-icon" /></a>
      </li>
    </ul>
  </nav>
</div>